<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="cupones.css">
    <title>Cupones de Descuento</title>
</head>
<body>
    <section>
        <h2>Conoce tu descuento!</h2>
        <div class="input-info">
            <label for="precio-original">Ingresa el precio original</label>
            <input type="text" id="precio-original">
        </div>
        <div class="input-cupon">
            <label for="cupon">Ingresa tu cup√≥n</label>
            <input type="text" id="cupon">
        </div>
        <button>Calcular</button>
        <div class="resultado-info">
             <p class="parrafo-discount"></p>
            <p class="parrafo-precio-final"></p>
        </div>
    </section>

    <script>
        const precioOriginal = document.querySelector("#precio-original") 
        const ingresarCupon = document.querySelector("#cupon")
        const btnCalculate = document.querySelector("button")
        const pInfoDiscount = document.querySelector(".parrafo-discount")
        const pResultado = document.querySelector(".parrafo-precio-final")
        btnCalculate.addEventListener("click", calculateDiscount)

        const cupons = [
        {
            name: "A11F",
            discount: 25,
        },
        {
            name: "VT13",
            discount: 15,
        },
        ]

        function calculateDiscount () {
            const price = Number(precioOriginal.value)
            if ( !price || !ingresarCupon.value) return  pResultado.innerText =  "Please, insert price and coupon for process the discount" 
            const  discount = cupons.find(c => c.name ===  ingresarCupon.value)?.discount;
            if  (!discount) return  pResultado.innerText = 'El cupon no es valido' 
            const nuevoPrecio = (price * (100 - discount)) / 100
            pInfoDiscount.innerText = 'Tu descuento es del '  + discount +  ' %.'
            pResultado.innerText = 'El nuevo precio con decuento es: $' + nuevoPrecio
        }

        function addCupon(name, discount) {
            cupons.push({name, discount});
        }
    </script>
</body>
</html>